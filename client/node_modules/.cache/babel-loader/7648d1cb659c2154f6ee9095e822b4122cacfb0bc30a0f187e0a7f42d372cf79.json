{"ast":null,"code":"var _jsxFileName = \"E:\\\\~~~PROGAMING~~~\\\\GitHub\\\\mca-final\\\\client\\\\src\\\\component\\\\Experiment2.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport ReactCrop from 'react-image-crop';\nimport 'react-image-crop/dist/ReactCrop.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Esperiment2 = () => {\n  _s();\n  const [crop, setCrop] = useState({\n    unit: '%',\n    width: 30,\n    aspect: 16 / 9\n  });\n  const [croppedImageUrl, setCroppedImageUrl] = useState(null);\n  const [originalImage, setOriginalImage] = useState(null);\n  const imageRef = React.useRef(null); // Define imageRef using useRef\n\n  const onSelectFile = e => {\n    if (e.target.files && e.target.files.length > 0) {\n      const reader = new FileReader();\n      reader.addEventListener('load', () => setOriginalImage(reader.result));\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  };\n  const onImageLoaded = image => {\n    imageRef.current = image; // Assign the loaded image to imageRef.current\n  };\n  const onCropChange = crop => {\n    setCrop(crop);\n  };\n  const onCropComplete = crop => {\n    if (imageRef.current && crop.width && crop.height) {\n      getCroppedImg(imageRef.current, crop);\n    }\n  };\n  const getCroppedImg = (image, crop) => {\n    const canvas = document.createElement('canvas');\n    const scaleX = image.naturalWidth / image.width;\n    const scaleY = image.naturalHeight / image.height;\n    canvas.width = crop.width;\n    canvas.height = crop.height;\n    const ctx = canvas.getContext('2d');\n    ctx.drawImage(image, crop.x * scaleX, crop.y * scaleY, crop.width * scaleX, crop.height * scaleY, 0, 0, crop.width, crop.height);\n    const croppedImageUrl = canvas.toDataURL('image/jpeg');\n    setCroppedImageUrl(croppedImageUrl);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: onSelectFile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), originalImage && /*#__PURE__*/_jsxDEV(ReactCrop, {\n      src: originalImage,\n      crop: crop,\n      onImageLoaded: onImageLoaded,\n      onChange: onCropChange,\n      onComplete: onCropComplete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), croppedImageUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n      alt: \"Crop\",\n      style: {\n        maxWidth: '100%'\n      },\n      src: croppedImageUrl\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(Esperiment2, \"F8ROmN+xI1A51s47IPv5A8KPzaM=\");\n_c = Esperiment2;\nexport default Esperiment2;\nvar _c;\n$RefreshReg$(_c, \"Esperiment2\");","map":{"version":3,"names":["React","useState","ReactCrop","jsxDEV","_jsxDEV","Esperiment2","_s","crop","setCrop","unit","width","aspect","croppedImageUrl","setCroppedImageUrl","originalImage","setOriginalImage","imageRef","useRef","onSelectFile","e","target","files","length","reader","FileReader","addEventListener","result","readAsDataURL","onImageLoaded","image","current","onCropChange","onCropComplete","height","getCroppedImg","canvas","document","createElement","scaleX","naturalWidth","scaleY","naturalHeight","ctx","getContext","drawImage","x","y","toDataURL","children","type","accept","onChange","fileName","_jsxFileName","lineNumber","columnNumber","src","onComplete","alt","style","maxWidth","_c","$RefreshReg$"],"sources":["E:/~~~PROGAMING~~~/GitHub/mca-final/client/src/component/Experiment2.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport ReactCrop from 'react-image-crop';\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\n\r\nconst Esperiment2 = () => {\r\n  const [crop, setCrop] = useState({ unit: '%', width: 30, aspect: 16 / 9 });\r\n  const [croppedImageUrl, setCroppedImageUrl] = useState(null);\r\n  const [originalImage, setOriginalImage] = useState(null);\r\n  const imageRef = React.useRef(null); // Define imageRef using useRef\r\n\r\n  const onSelectFile = e => {\r\n    if (e.target.files && e.target.files.length > 0) {\r\n      const reader = new FileReader();\r\n      reader.addEventListener('load', () => setOriginalImage(reader.result));\r\n      reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const onImageLoaded = image => {\r\n    imageRef.current = image; // Assign the loaded image to imageRef.current\r\n  };\r\n\r\n  const onCropChange = crop => {\r\n    setCrop(crop);\r\n  };\r\n\r\n  const onCropComplete = crop => {\r\n    if (imageRef.current && crop.width && crop.height) {\r\n      getCroppedImg(imageRef.current, crop);\r\n    }\r\n  };\r\n\r\n  const getCroppedImg = (image, crop) => {\r\n    const canvas = document.createElement('canvas');\r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n    canvas.width = crop.width;\r\n    canvas.height = crop.height;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    ctx.drawImage(\r\n      image,\r\n      crop.x * scaleX,\r\n      crop.y * scaleY,\r\n      crop.width * scaleX,\r\n      crop.height * scaleY,\r\n      0,\r\n      0,\r\n      crop.width,\r\n      crop.height\r\n    );\r\n\r\n    const croppedImageUrl = canvas.toDataURL('image/jpeg');\r\n    setCroppedImageUrl(croppedImageUrl);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <input type=\"file\" accept=\"image/*\" onChange={onSelectFile} />\r\n      {originalImage && (\r\n        <ReactCrop\r\n          src={originalImage}\r\n          crop={crop}\r\n          onImageLoaded={onImageLoaded}\r\n          onChange={onCropChange}\r\n          onComplete={onCropComplete}\r\n        />\r\n      )}\r\n      {croppedImageUrl && (\r\n        <img alt=\"Crop\" style={{ maxWidth: '100%' }} src={croppedImageUrl} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default Esperiment2;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}